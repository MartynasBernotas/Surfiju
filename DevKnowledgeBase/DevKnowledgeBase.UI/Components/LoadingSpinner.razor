@inject LoadingService LoadingService

<MudOverlay Visible="_visible" DarkBackground="true" Absolute="true" ZIndex="9999">
        <MudProgressCircular Color="Color.Secondary" Indeterminate="true" />
</MudOverlay>


@code {
    private bool _visible = false;

    protected override void OnInitialized()
    {
        LoadingService.OnShow += ShowSpinner;
        LoadingService.OnHide += HideSpinner;
    }

    private void ShowSpinner()
    {
        _visible = true;
        StateHasChanged();
    }

    private void HideSpinner()
    {
        _visible = false;
        StateHasChanged();
    }

    public void Dispose()
    {
        LoadingService.OnShow -= ShowSpinner;
        LoadingService.OnHide -= HideSpinner;
    }
}
